services:
  webui:
    build:
      context: .
      dockerfile: Dockerfile
    command: [
      "streamlit",
      "run",
      "./webui/Main.py",
      "--server.address=0.0.0.0",
      "--server.enableCORS=True",
      "--browser.gatherUsageStats=False"
    ]
    volumes:
      - ./:/MoneyPrinterTurbo
    ports:
      - "8601:8501"  # cambia el puerto externo para evitar conflicto
    restart: always

  api:
    build:
      context: .
      dockerfile: Dockerfile
    command: [ "python3", "main.py" ]
    volumes:
      - ./:/MoneyPrinterTurbo
    ports:
      - "8180:8080"  # cambia el puerto externo para evitar conflicto
    environment:
      - HOST=0.0.0.0
      - PORT=8080
    restart: always
